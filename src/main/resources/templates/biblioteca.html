<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Biblioteca - VirtualHub</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>

<div class="library-container">

    <!-- LEFT SIDE -->
    <div class="library-sidebar">
        <h2>Biblioteca</h2>

        <div th:each="juego : ${juegos}"
             class="library-item"
             onclick="mostrarJuego(this)"
             th:data-titulo="${juego.titulo}"
             th:data-descripcion="${juego.descripcion}"
             th:data-precio="${juego.precio}"
             th:data-imagen="${juego.imagenUrl}">

            <span th:text="${juego.titulo}"></span>
        </div>

    </div>

    <!-- RIGHT SIDE -->
    <div class="library-detail">
        <div id="detalleContenido" class="detalle-animado">
            <h1>Selecciona un juego</h1>
            <p>Haz click en un juego de tu biblioteca</p>
        </div>
    </div>

</div>

<script>
function mostrarJuego(elemento) {

    const titulo = elemento.dataset.titulo;
    const descripcion = elemento.dataset.descripcion;
    const precio = elemento.dataset.precio;
    const imagen = elemento.dataset.imagen;

    // Generamos valores dinámicos aquí
    const rating = (Math.random() * 5).toFixed(1);
    const horas = (Math.random() * 200).toFixed(1);
    const porcentaje = (rating / 5) * 100;

    document.getElementById("detalleContenido").innerHTML = `
        <div class="detalle-header">
            <img src="${imagen}" class="library-img">
            <div class="detalle-info">
                <h1>${titulo}</h1>
                <p class="detalle-descripcion">${descripcion}</p>

                <div class="stats">
                    <p><strong>Horas jugadas:</strong> ${horas} hrs</p>
                    <p><strong>Valoración:</strong> ⭐ ${rating} / 5</p>
                </div>

                <div class="barra-aprobacion">
                    <div class="barra-fill" style="width:${porcentaje}%"></div>
                </div>

                <button class="btn-jugar">JUGAR</button>
            </div>
        </div>
    `;
}
</script>

</body>
</html>